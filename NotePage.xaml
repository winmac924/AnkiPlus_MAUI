<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:skia="clr-namespace:SkiaSharp.Views.Maui.Controls;assembly=SkiaSharp.Views.Maui.Controls"
             xmlns:views="clr-namespace:AnkiPlus_MAUI.Views"
             x:Class="AnkiPlus_MAUI.NotePage">
        <Grid>
                <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="*"/>
                </Grid.RowDefinitions>
                <TitleBar IsVisible="False"/>

                <Grid Grid.Row="0"
                      BackgroundColor="LightGray">
                        <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>

                        <!-- 中央のツール群 -->
            <HorizontalStackLayout Grid.Column="1"
                                               Spacing="10"
                                               Padding="10"
                                               HorizontalOptions="Center">
                <!-- 編集操作 -->
                <Button Text="元に戻す"
                                        Clicked="OnUndoClicked"/>
                <Button Text="やり直す"
                                        Clicked="OnRedoClicked"/>

                <BoxView WidthRequest="1"
                                         Color="Gray"
                                         Margin="5,0"/>
                <!-- 描画ツール -->
                <Button Text="ペン"
                                        Clicked="OnPenClicked"/>
                <Button Text="マーカー"
                                        Clicked="OnMarkerClicked"/>
                <Button Text="消しゴム"
                                        Clicked="OnEraserClicked"/>
                <Button Text="テキスト"
                                       
                                        IsEnabled="False"/>

                <!-- 右側のファイル操作 -->
                <HorizontalStackLayout Grid.Column="2"
                                                       Spacing="10"
                                                       Padding="10"
                                                       HorizontalOptions="End">
                    <Button Text="インポート"
                                                Clicked="OnImportClicked"/>
                    <Button Text="保存"
                                                Clicked="OnSaveClicked"/>
                </HorizontalStackLayout>
            </HorizontalStackLayout>
        </Grid>

                <ScrollView Grid.Row="1"
                            VerticalOptions="Fill"
                            x:Name="MainScrollView"
                            IsEnabled="True">
                        <VerticalStackLayout x:Name="PageContainer"
                                             Spacing="20"
                                             Padding="10">
                                <!-- ページキャンバスがここに動的に追加されます -->
                        </VerticalStackLayout>
                </ScrollView>
        </Grid>
</ContentPage>
